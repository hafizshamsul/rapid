<ion-header no-border>
  <ion-toolbar id="toolbarborder" style="--background:white; ">
    <div id="searchnav" style="display: grid;">
      
      <div>
        <div id="headertitle" style="padding: 7px 0 0 26px">
          <div class="fas fa-book" style="font-size: 16px; color:rgb(29, 161, 242); padding-top: 3px;"></div>
          <ion-title class="ion-text-left" style="color: rgb(29, 161, 242); font-family: Inter; font-weight: 800px; font-size: 18px;">Edushare</ion-title>
        </div>

        <ion-buttons id="searchnavmsg" slot="end" style="float: right;padding-right: 4px;">
          <ion-button color="green" (click)="toHome()">
            <i class="fas fa-chevron-left" style="font-size: 20px"></i>
          </ion-button>
        </ion-buttons>
      </div>

      <div style="text-align: center;padding-top: 8px; font-family: Inter;">
        Messenger
      </div>

      <div>
        <ion-buttons slot="primary" (click)="login()">
          <ion-button color="green">
            <i class="fas fa-sign-out-alt" style="font-size: 16px"></i>
          </ion-button>
        </ion-buttons>
      </div>

    </div>
  </ion-toolbar>
</ion-header>
 

  <!--  our side menu  -->
  <ion-menu contentId="main">
    <ion-header>
      <ion-toolbar>
        <ion-title>Menu</ion-title>
      </ion-toolbar>
    </ion-header>
  </ion-menu>


 

    <ion-content style="--padding-top: 4px;  --padding:10px">
      <div id="innercontent" style="margin-top: 9px;">
        <div id="sidemenu" style="background: white; position: fixed; width:230px; height:100%; margin-top:-13px; border-right:1px solid rgb(240,240,240)">
          <div (click)="toHome()" id="menuitem" style="margin-top: 12px;">
            <div id="gapicontext" style="color: rgb(120,120,120);">
                <div class="bx bx-home-circle" style="font-size: 19px;"></div>
                  <div style="padding-top: 2px; font-weight: 500;">
                      Home
                  </div>
                </div>
            </div>
  
            <div (click)="toSubmitpost()" id="menuitem" style="">
                <div id="gapicontext" style="color: rgb(120,120,120);">
                  <div class="bx bx-upload" style="font-size: 19px;"></div>
                    <div style="padding-top: 2px; font-weight: 500;">
                        Uploads
                    </div>
                </div>
            </div>
  
            <div (click)="toFolder()" id="menuitem" style="">
                <div id="gapicontext" style="color: rgb(120,120,120);">
                  <div class="bx bx-folder" style="font-size: 19px;"></div>
                    <div style="padding-top: 2px; font-weight: 500;">
                        Folders
                    </div>
                </div>
            </div>
  
            <div (click)="toBookmark()" id="menuitem" style="">
              <div id="gapicontext" style="color: rgb(120,120,120);">
                <div class="bx bx-bookmark" style="font-size: 19px;"></div>
                  <div style="padding-top: 2px; font-weight: 500;">
                      Bookmarks
                  </div>
              </div>
          </div>
  
          <div (click)="toActivity()" id="menuitem" style="">
            <div id="gapicontext" style="color: rgb(120,120,120);">
              <div class="bx bx-list-plus" style="font-size: 19px;"></div>
                <div style="padding-top: 2px; font-weight: 500;">
                    Tasks
                </div>
            </div>
        </div>
        
        <div (click)="toMessenger()" id="currentmenuitem" style="">
          <div id="gapicontext" style="">
            <div class="bx bx-message-square-dots" style="font-size: 19px;"></div>
              <div style="padding-top: 2px">
                  Messenger
              </div>
          </div>
      </div>
  
            <div (click)="toBroadcast()" id="menuitem" style="">
              <div id="gapicontext" style="color: rgb(120,120,120);">
                <div class="bx bx-bullseye" style="font-size: 19px;"></div>
                  <div style="padding-top: 2px; font-weight: 500;">
                      Streams
                  </div>
              </div>
            </div>
  
  
              <!--
                <div (click)="toMessenger()" id="menuitem" style="">
                  <div id="gapicontext" style="">
                      <div class="fas fa-comment-alt" style="font-size: 17px; padding-left: 1px;"></div>
                      <div style="padding-top: 0px">
                          Messenger
                      </div>
                  </div>
              </div>
              -->
            
            
        </div>

        <div id="griditem2" style="display:grid;">
          <div></div>

          <div>
            <ion-grid style="padding: 16px;">
              <ion-row *ngFor="let message of messages">
        
                <ion-col no-padding style="padding:1.5px 0">
                  <div style="float: left;" *ngIf="message.user !== currentUser" class="message other-message">
                  <div class="otherlabel" style="clear: both;">{{ message.user }}</div>
                  <span>{{ message.msg }}</span>
                  <div class="time" text-right><br>
                    {{ message.createdAt | date:'shortTime' }}
                  </div>
                </div>
                </ion-col>
                
                <ion-col no-padding style="padding:1.5px 0">
                  <div style="float: right;" *ngIf="message.user === currentUser" class="message my-message">
                    <span>{{ message.msg }}</span>
                    <div class="time" text-right><br>
                      {{ message.createdAt | date:'shortTime' }}
                      <div class="fas fa-check" style="margin-left:1px; font-size: 11px; color:rgb(190,190,190);"></div>
                    </div>
                  </div>
                </ion-col>
        
              
          
              </ion-row>
            </ion-grid>

            

            <!---
            -->
              <div class="sendbox" style="display: grid; grid-template-columns: auto; position:fixed; bottom:0; right:0;">
              
                <ion-footer class="sendbox2" no-border>
                  <ion-toolbar style="--background:#f0f0f0;">
                    <ion-row align-items-center>
                      <ion-col>
                        <ion-textarea auto-grow class="message-input" placeholder="Type a message" rows="1" [(ngModel)]="message"></ion-textarea>
                      </ion-col>
                      <ion-col size="32px">
                        <ion-button color="primary" [disabled]="message === ''" class="msg-btn" (click)="sendMessage()">
                          <div class="bx bx-send" style="font-size: 19px;"></div>
                        </ion-button>
                      </ion-col>
                    </ion-row>
                  </ion-toolbar>
                </ion-footer>
            </div>
           
          
          </div>

          <div></div>
        </div>
      </div>
   
      
  </ion-content>
  
  <ion-footer class="sendbox3" no-border>
    <ion-toolbar style="--background:#f0f0f0;">
      <ion-row align-items-center>
        <ion-col>
          <ion-textarea auto-grow class="message-input" placeholder="Type a message" rows="1" [(ngModel)]="message"></ion-textarea>
        </ion-col>
        <ion-col size="32px">
          <ion-button color="primary" [disabled]="message === ''" class="msg-btn" (click)="sendMessage()">
            <div class="bx bx-send" style="font-size: 19px;"></div>
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-toolbar>
  </ion-footer>